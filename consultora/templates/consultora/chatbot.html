<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<style>
    body {
        font-family: 'Inter', sans-serif;
        background-color: #1f2937;
        color: #d1d5db;
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
    }
    .chat-container {
        display: flex;
        flex-direction: column;
        width: 100%;
        max-width: 400px;
        height: 80vh;
        max-height: 600px;
        background-color: #374151;
        border-radius: 1.5rem;
        box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2);
        overflow: hidden;
    }
    .chat-header {
        background-color: #111827;
        padding: 1rem;
        border-top-left-radius: 1.5rem;
        border-top-right-radius: 1.5rem;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        color: white;
    }
    .chat-messages {
        flex-grow: 1;
        overflow-y: auto;
        padding: 1rem;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        scrollbar-width: none;
        -ms-overflow-style: none;
    }
    .chat-messages::-webkit-scrollbar {
        width: 0;
    }
    .message {
        max-width: 85%;
        padding: 0.75rem 1rem;
        border-radius: 1.25rem;
        position: relative;
    }
    .message-user {
        background-color: #2563eb;
        color: white;
        align-self: flex-end;
        border-bottom-right-radius: 0.25rem;
    }
    .message-bot {
        background-color: #4b5563;
        color: #e5e7eb;
        align-self: flex-start;
        border-bottom-left-radius: 0.25rem;
    }
    .chat-input-container {
        background-color: #1f2937;
        padding: 1rem;
        display: flex;
        gap: 0.5rem;
        align-items: center;
        border-bottom-left-radius: 1.5rem;
        border-bottom-right-radius: 1.5rem;
    }
    .chat-input {
        flex-grow: 1;
        background-color: #4b5563;
        border: none;
        padding: 0.75rem 1rem;
        border-radius: 9999px;
        outline: none;
        color: #e5e7eb;
    }
    .chat-send-btn {
        background-color: #2563eb;
        color: white;
        border: none;
        padding: 0.75rem;
        border-radius: 9999px;
        cursor: pointer;
        transition: background-color 0.3s;
    }
    .chat-send-btn:hover {
        background-color: #3b82f6;
    }
    .typing-indicator {
        font-size: 0.8rem;
        color: #9ca3af;
        margin-left: 1rem;
    }
</style>

<div class="chat-container">
    <div class="chat-header">
        <div class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center">
            <i class="fas fa-robot text-xl"></i>
        </div>
        <div>
            <h3 class="font-bold text-lg">Asistente IA</h3>
            <p class="text-xs text-gray-400">En línea</p>
        </div>
    </div>
    <div class="chat-messages" id="chat-messages">
        <!-- Los mensajes se añadirán aquí por JavaScript -->
        <div class="message message-bot">
            ¡Hola! Soy tu asistente de IA. ¿En qué puedo ayudarte hoy?
        </div>
    </div>
    <div class="chat-input-container">
        <input type="text" id="chat-input" class="chat-input" placeholder="Escribe un mensaje...">
        <button id="chat-send-btn" class="chat-send-btn">
            <i class="fas fa-paper-plane"></i>
        </button>
    </div>
</div>

<script>
    const chatInput = document.getElementById('chat-input');
    const chatSendBtn = document.getElementById('chat-send-btn');
    const chatMessages = document.getElementById('chat-messages');

    function sendMessage() {
        const userMessage = chatInput.value.trim();
        if (userMessage === '') return;

        // Añadir mensaje del usuario
        addMessage(userMessage, 'user');
        chatInput.value = '';

        // Simular respuesta del bot (aquí iría la lógica real de la IA)
        simulateBotResponse(userMessage);
    }

    function addMessage(text, sender) {
        const messageDiv = document.createElement('div');
        messageDiv.classList.add('message', sender === 'user' ? 'message-user' : 'message-bot');
        messageDiv.textContent = text;
        chatMessages.appendChild(messageDiv);
        chatMessages.scrollTop = chatMessages.scrollHeight; // Scroll automático al último mensaje
    }

    function simulateBotResponse(userMessage) {
        const botResponses = {
            'hola': '¡Hola! ¿Qué tal? Estoy listo para ayudarte.',
            'qué servicios ofrecen?': 'Ofrecemos automatización de procesos, análisis de datos y soporte al cliente con IA.',
            'dónde están ubicados?': 'Somos una empresa de consultoría digital y trabajamos de manera remota para clientes en todo el mundo.',
            'gracias': 'De nada. Si tienes más preguntas, no dudes en preguntar.',
            '': 'Lo siento, no te he entendido. ¿Podrías ser más específico?', // Respuesta por defecto
        };

        let botMessage;
        const lowerCaseMessage = userMessage.toLowerCase();

        if (lowerCaseMessage.includes('hola')) {
            botMessage = botResponses['hola'];
        } else if (lowerCaseMessage.includes('servicios')) {
            botMessage = botResponses['qué servicios ofrecen?'];
        } else if (lowerCaseMessage.includes('ubicados')) {
            botMessage = botResponses['dónde están ubicados?'];
        } else if (lowerCaseMessage.includes('gracias')) {
            botMessage = botResponses['gracias'];
        } else {
            botMessage = botResponses[''];
        }

        setTimeout(() => {
            addMessage(botMessage, 'bot');
        }, 1000); // Simula un retraso de 1 segundo para la respuesta del bot
    }

    chatSendBtn.addEventListener('click', sendMessage);
    chatInput.addEventListener('keypress', (event) => {
        if (event.key === 'Enter') {
            sendMessage();
        }
    });
</script>
